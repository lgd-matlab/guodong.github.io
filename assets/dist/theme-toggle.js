var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,i=(e,t)=>{for(var o in t||(t={}))a.call(t,o)&&s(e,o,t[o]);if(n)for(var o of n(t))r.call(t,o)&&s(e,o,t[o]);return e},l=(e,n)=>t(e,o(n));import{r as c,j as m,c as d}from"./client.09a48c54.js";const h={LIGHT:"light",DARK:"dark",SYSTEM:"system"},u={defaultTheme:h.SYSTEM,storageKey:"academic-website-theme",enableSystemDetection:!0,enablePersistence:!0,transitionDuration:300,enablePlotlyIntegration:!1},g=()=>{if("undefined"==typeof window||!window.matchMedia)return"unknown";try{const e=window.matchMedia("(prefers-color-scheme: dark)");if("not all"!==e.media)return e.matches?"dark":"light"}catch(e){return"unknown"}return"unknown"},f=(e,t=!1)=>{if("undefined"==typeof document)return;const o=document.documentElement,n=document.body;try{o.setAttribute("data-theme",e),o.className=o.className.replace(/theme-\w+/g,"").replace(/^\s+|\s+$/g,"").split(" ").filter(Boolean).concat("system"!==e?`theme-${e}`:"").join(" "),t&&(o.classList.add("theme-transitioning"),setTimeout(()=>{o.classList.remove("theme-transitioning")},300)),n&&(n.classList.remove("theme-light","theme-dark","theme-system"),"system"!==e&&n.classList.add(`theme-${e}`));const a=new CustomEvent("themechange",{detail:{theme:e,isTransitioning:t}});window.dispatchEvent(a)}catch(a){}},_=e=>{if("undefined"!=typeof window&&window.Plotly)try{document.querySelectorAll(".plotly-graph-div").forEach(t=>{if(t._fullLayout&&window.Plotly.relayout){const o=i({},t._fullLayout);"dark"===e?(o.paper_bgcolor="#2d2d2d",o.plot_bgcolor="#3d3d3d",o.font={color:"#f0f0f0"},o.xaxis=l(i({},o.xaxis),{gridcolor:"#444444",tickfont:{color:"#f0f0f0"},titlefont:{color:"#f0f0f0"}}),o.yaxis=l(i({},o.yaxis),{gridcolor:"#444444",tickfont:{color:"#f0f0f0"},titlefont:{color:"#f0f0f0"}})):(o.paper_bgcolor="#ffffff",o.plot_bgcolor="#ffffff",o.font={color:"#333333"},o.xaxis=l(i({},o.xaxis),{gridcolor:"#e0e0e0",tickfont:{color:"#333333"},titlefont:{color:"#333333"}}),o.yaxis=l(i({},o.yaxis),{gridcolor:"#e0e0e0",tickfont:{color:"#333333"},titlefont:{color:"#333333"}})),window.Plotly.relayout(t,o)}})}catch(t){}},T=(e={})=>{const t=i(i({},u),e),{storageKey:o,enableSystemDetection:n,enablePersistence:a,enablePlotlyIntegration:r}=t,[s,l]=c.useState(()=>{if(a){const e=(e=>{if("undefined"==typeof window||!window.localStorage)return null;try{return window.localStorage.getItem(e)}catch(t){return null}})(o);if(e&&Object.values(h).includes(e))return e}if(n){const e=g();if("unknown"!==e)return e}return t.defaultTheme}),[m,d]=c.useState(()=>g()),[T,y]=c.useState(!1),w=c.useRef(null);c.useEffect(()=>{if(n){const e=(()=>{let e=g();const t=[],o=()=>{e=g(),t.forEach(t=>t(e))};if("undefined"!=typeof window&&window.matchMedia)try{const n=window.matchMedia("(prefers-color-scheme: dark)");return n.addListener?n.addListener(o):n.addEventListener&&n.addEventListener("change",o),{preference:e,addListener:e=>(t.push(e),()=>{const o=t.indexOf(e);o>-1&&t.splice(o,1)}),removeListener:e=>{const o=t.indexOf(e);o>-1&&t.splice(o,1)}}}catch(n){}return{preference:e,addListener:()=>{},removeListener:()=>{}}})();d(e.preference),w.current=e;const t=e.addListener(e=>{d(e),s===h.SYSTEM&&(f(h.SYSTEM),_(h.SYSTEM))});return()=>{t()}}},[n,s]),c.useEffect(()=>{f(s,T),r&&_(s),"undefined"!=typeof document&&document.documentElement.style.setProperty("--current-theme",s)},[s,T,r]),c.useEffect(()=>{a&&((e,t)=>{if("undefined"!=typeof window&&window.localStorage)try{window.localStorage.setItem(e,t)}catch(o){}})(o,s)},[s,o,a]);const b=c.useCallback(()=>{y(!0),l(e=>{let t;switch(e){case h.LIGHT:t=h.DARK;break;case h.DARK:t=h.SYSTEM;break;case h.SYSTEM:t=h.LIGHT;break;default:t=h.SYSTEM}return t}),setTimeout(()=>{y(!1)},t.transitionDuration)},[t.transitionDuration]),p=c.useCallback(e=>{Object.values(h).includes(e)&&(y(!0),l(e),setTimeout(()=>{y(!1)},t.transitionDuration))},[t.transitionDuration]),S=c.useCallback(()=>{b()},[b]),k=c.useCallback(()=>{p(t.defaultTheme)},[t.defaultTheme]);return{theme:s,systemPreference:m,isTransitioning:T,setTheme:p,toggleTheme:b,cycleTheme:S,resetTheme:k,THEMES:h}},y={themeToggle:"ThemeToggle-module__themeToggle___QoQop",toggleButton:"ThemeToggle-module__toggleButton___IjGia",transitioning:"ThemeToggle-module__transitioning___CbkcW",themeSwitch:"ThemeToggle-module__themeSwitch___oRq-e",themeIcon:"ThemeToggle-module__themeIcon___VlZeX",iconRotate:"ThemeToggle-module__iconRotate___LJdcz",srOnly:"ThemeToggle-module__srOnly___QGlgZ",themeIndicator:"ThemeToggle-module__themeIndicator___ifIs8",light:"ThemeToggle-module__light___rLvta",dark:"ThemeToggle-module__dark___IsktH",system:"ThemeToggle-module__system___3HY8j",themeLabel:"ThemeToggle-module__themeLabel___5eGpO",showIndicator:"ThemeToggle-module__showIndicator___50Lb-","theme-dark":"ThemeToggle-module__theme-dark___FF8yu",themeDark:"ThemeToggle-module__theme-dark___FF8yu","theme-light":"ThemeToggle-module__theme-light___N-5wn",themeLight:"ThemeToggle-module__theme-light___N-5wn","theme-system":"ThemeToggle-module__theme-system___EIELq",themeSystem:"ThemeToggle-module__theme-system___EIELq",compact:"ThemeToggle-module__compact___6FIaq",large:"ThemeToggle-module__large___a3F61",minimal:"ThemeToggle-module__minimal___uH6dC",pill:"ThemeToggle-module__pill___wV-QC",masthead:"ThemeToggle-module__masthead___JROSw",sidebar:"ThemeToggle-module__sidebar___ASYFc"},w=({className:e="",config:t={},onThemeChange:o})=>{const{theme:n,systemPreference:a,isTransitioning:r,setTheme:s,toggleTheme:i,cycleTheme:l}=T(t),c=()=>{switch(n){case"light":return"Currently using light theme";case"dark":return"Currently using dark theme";case"system":return`Currently using system preference (${a} theme)`;default:return"Theme unknown"}};return m.jsxs("div",{className:`${y.themeToggle} ${e}`,children:[m.jsxs("button",{className:`${y.toggleButton} ${r?y.transitioning:""}`,onClick:()=>{i(),null==o||o(n)},"aria-label":(()=>{switch(n){case"light":return"Switch to dark theme";case"dark":return"Switch to system theme";case"system":return"Switch to light theme";default:return"Toggle theme"}})(),title:`Theme: ${c()}. Click to cycle through themes.`,disabled:r,type:"button",children:[m.jsx("span",{className:y.themeIcon,"aria-hidden":"true",role:"img","aria-label":`${n} theme icon`,children:(()=>{switch(n){case"light":return"☀️";case"dark":return"🌙";default:return"🌓"}})()}),m.jsx("span",{className:y.srOnly,children:c()})]}),t.showIndicator&&m.jsx("div",{className:`${y.themeIndicator} ${y[n]}`,"aria-hidden":"true",title:`Current theme: ${n}`}),t.showLabel&&m.jsx("span",{className:y.themeLabel,children:"system"===n?"Auto":n.charAt(0).toUpperCase()+n.slice(1)})]})},b={defaultTheme:"system",storageKey:"academic-website-theme",enableSystemDetection:!0,enablePersistence:!0,transitionDuration:300,enablePlotlyIntegration:!1,showLabel:!1,showIndicator:!1},p=(e="[data-theme-toggle]")=>{document.querySelectorAll(e).forEach(e=>{try{if(e.hasAttribute("data-react-mounted"))return;const t=(e=>{const t=i({},b),o=e.dataset.config;if(o)try{const e=JSON.parse(o);Object.assign(t,e)}catch(n){}return Object.entries({defaultTheme:"defaultTheme",storageKey:"storageKey",showLabel:"showLabel",showIndicator:"showIndicator",enablePlotlyIntegration:"enablePlotlyIntegration",transitionDuration:"transitionDuration"}).forEach(([o,n])=>{const a=e.dataset[o.toLowerCase()];void 0!==a&&("true"===a?t[n]=!0:"false"===a?t[n]=!1:isNaN(a)||""===a?t[n]=a:t[n]=Number(a))}),t})(e);d(e).render(m.jsx(w,{config:t,className:e.className||"",onThemeChange:o=>{const n=new CustomEvent("themeChanged",{detail:{theme:o,element:e,config:t}});document.dispatchEvent(n)}})),e.setAttribute("data-react-mounted","true"),e.setAttribute("data-component","ThemeToggle")}catch(t){e.innerHTML="\n        <button\n          onclick=\"this.dataset.theme = this.dataset.theme === 'dark' ? 'light' : 'dark';\n                 document.documentElement.setAttribute('data-theme', this.dataset.theme);\n                 localStorage.setItem('academic-website-theme', this.dataset.theme);\"\n          data-theme=\"system\"\n          style=\"\n            padding: 0.5rem 0.75rem;\n            border: 2px solid #e1e5e9;\n            border-radius: 2rem;\n            background: #ffffff;\n            color: #333333;\n            cursor: pointer;\n            font-size: 0.875rem;\n            transition: all 300ms ease-in-out;\n          \"\n          title=\"Toggle theme\"\n        >\n          🌓\n        </button>\n      "}})},S={mount:p,getCurrentTheme:()=>document.documentElement.getAttribute("data-theme")||"system",setTheme:e=>{document.documentElement.setAttribute("data-theme",e),localStorage.setItem("academic-website-theme",e);const t=new CustomEvent("themechange",{detail:{theme:e,source:"ThemeToggleUtils"}});document.dispatchEvent(t)},isMounted:e=>e.hasAttribute("data-react-mounted")&&"ThemeToggle"===e.getAttribute("data-component")};(()=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",p):p(),setTimeout(p,100);let e=location.href;new MutationObserver(()=>{const t=location.href;t!==e&&(e=t,setTimeout(p,50))}).observe(document,{subtree:!0,childList:!0})})(),document.addEventListener("themechange",e=>{const{theme:t}=e.detail;document.querySelectorAll("[data-theme-toggle]").forEach(e=>{if(!e.hasAttribute("data-react-mounted")){const o=e.querySelector("button");if(o){const e=o.querySelector("[data-theme-icon]");if(e)switch(t){case"light":e.textContent="☀️";break;case"dark":e.textContent="🌙";break;default:e.textContent="🌓"}}}})}),"undefined"!=typeof window&&(window.ThemeToggleUtils=S);
